---
title: "Setup"
---

The scripted solution requires a user with `sudo` permissions on all servers. For this document, we will refer to that user as the **deployment_user**.

<Info>
  The `sudo` permission for the deployment user is required for installing the Regatta RPM packages, configuring the required firewall ports, and ensuring proper NVMe devices permissions for the regatta system-user used by the Regatta modules.  
</Info>

The script also requires SSH access from the host it is executed on to all the cluster nodes. 

Before executing the deployment script, the user is required to create a JSON file which include all the cluster nodes IP addresses and dedicated NVMe devices to use on each node.

When the script is executed by the **deployment_user** it will perform the following tasks:

1. Ask to approve the Regatta EULA
2. Ensure SSH access to all the cluster nodes with the SSH key provided by the user when prompted.
3. Check for the required dependencies of the script itself and prompt for installing them if needed.
4. Ensure the defined devices are set with write permissions for the `regatta` user used by the Regatta modules
5. Install the Regatta RPMs across the cluster
6. Generate a common `cluster.config` file and copy it to all the modules across the cluster
7. Calculate available CPU and RAM resources on each node/server and generate a module-specific configuration for each of the modules across the cluster
8. Generate additional `rdb.config` file for the RDB modules
9. Start the Regatta services across the cluster

## Script dependencies

As mentioned, as part of the setup, the script will require the following packages on the deployment server (where the script is executed):

- **python3** - prerequisite for Ansible
- **sshpass** - allows for scripted ssh connection with password
- **jq** â€“ for parsing json files
- **ansible** - provisioning automation tool used for the cluster setup itself

These dependencies can be pre-installed manually by the user or left to be installed automatically by the script. 

<Warning>
  Please note that installing the script dependencies requires an internet connection or having the packages readily available on the server.
</Warning>

In the next page we will go over extracting the deployment script on one of the cluster nodes/servers and configuring the basic input required by it.