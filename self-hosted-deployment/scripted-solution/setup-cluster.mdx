---
title: Setup Cluster
---

Move to the deploy directory, relative to the location where the tar file was extracted:

```
cd deploy
```

Run `setup_cluster.sh` to continue with the automatic deployment.

```
./setup_cluster.sh
```

You will be asked to accept the Regatta End-User-License-Agreement (EULA) located in our 
website at https://regatta.dev/eula/. This will appear as follows:

```
By using this script and deploying the Regatta Cluster you agree to the EULA located at:
https://regatta.dev/eula/
Please read the EULA and accept the terms.
Do you accept the terms of the EULA? [Y/n]
```

In case you need time to read or for any other reason, entering n will abort the script with the 
message:

```
EULA not accepted - deployment aborted...
```

You can always restart the deployment using the script.

By entering Y you confirm that you read and accepted the EULA. The deployment will continue.

Next step is the deployment of the Regatta database on all servers. To do so, we will use the 
`deployment_user` supplied initially. You will be asked to enter its credentials so the script can 
connect over SSH to all servers. You will see the following message:

For the purpose of deployment, we need access to a `deployment_user` which resides on all servers 
using the same ssh key. The `deployment_user` will be used to access the other servers listed in 
the config.json file and therefore requires sudo permission.
Please enter the credentials of the deployment_user:

```
Enter path to SSH key: /<path>/<ssh_key_file>
```

Enter the SSH key, in response you will be prompted to enter the username:

```
Enter username to use with ssh key: deployment_user
```

Enter the username. If the credentials are correct the script will continue until the deployment is 
completed.

The next step will enquire whether the `deployment_user` needs password for sudo 
operations:

```
Does the <deployment_user> requires a password to run sudo commands? [Y/n]: 
```

If the reply is yes, you will need to enter the password when asked as follows:

```
BECOME PASS:
```

The password will stay in volatile memory and is never stored. Please note that during the 
deployment, the script will install the packages described in the Prerequisites section if they are 
not already installed. If the packages are missing and there is no internet access to download 
them, the deployment will fail.

In addition, the script will also configure the firewall for the Regatta database cluster to properly 
communicate between the different software modules.